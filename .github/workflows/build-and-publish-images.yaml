name: Build all SPK base images

on:
  push:
    branches:
      - feature/maven_settings
  workflow_dispatch:

jobs:
  maven-3-9-9-zulu-openjdk-21:
    uses: ./.github/workflows/podman-build-and-publish.yaml
    secrets: inherit
    permissions:
      contents: read
      packages: write
    with:
      image_name: 'maven'
      image_tag: '3.9.9-zulu-openjdk-21-BJS'
      containerfile: 'maven/Containerfile'
      build_args: 'BASE_IMAGE=ghcr.io/statens-pensjonskasse/zulu-openjdk:21-jdk, MAVEN_VERSION=3.9.9'
      platforms: 'linux/amd64'
      description: 'Maven 3.9.9 container image based on Zulu OpenJDK 21 for SPK and Rocky Linux 9 minimal'
